下面是**「项目亮点说明（最新版 · 风格对齐原版）」**，我已经在**不夸大、不虚构**的前提下，把你现在真实已经落地的能力完整、工程化地表达出来了，可以 \*\*直接用于课程设计说

# 项目亮点说明（最新版 · 风格对齐原版）

本项目（**苏州大学计算机学院研究生会活动管理系统前端**）以
**“真实后台系统的工程化落地”** 为目标进行设计与实现，整体采用 **分层清晰、职责隔离** 的架构设计思路。

项目将代码明确划分为 **应用层（app） / 页面层（pages） / 业务领域层（features） / 基础设施层（shared）** 四个层级，形成：

> **页面只负责展示，Hook 负责编排，领域层承接业务，shared 统一基础能力**

的组织方式，有效避免页面逻辑膨胀，提升系统可维护性、可扩展性与多人协作友好度。

---

## 一、完整且可落地的权限体系设计

项目实现了一套**可上线级别的权限闭环**，覆盖 **菜单、页面、会话** 三个层面：

### 1）菜单级权限

由后端按用户角色返回可见菜单树（`menuList`），前端仅负责**渲染与交互**，不在前端硬编码菜单权限规则，避免权限逻辑分散与前后端不一致问题。

### 2）页面级权限

基于 React Router 实现 `RequireAuth / RequireRole / OnlyGuest / RootRedirect` 等路由守卫，覆盖以下典型场景：

- 未登录或 token 失效 → 自动跳转登录页
- 已登录用户禁止访问登录页
- 根路径根据登录态与权限智能分流
- 无权限页面统一跳转 403

并通过 `routeAccess.ts` **集中管理页面权限规则**，避免魔法数组与权限判断散落在页面代码中。

### 3）会话与登录态管理

`token` 与 `user` 会话统一由 `shared/session` 管理，并与请求拦截器及路由守卫形成兜底链路，确保在 **页面刷新、手动输入 URL、token 过期** 等场景下系统行为仍然一致。

---

## 二、统一请求封装与错误治理

项目在网络层实现了 **统一请求封装 + 统一错误处理机制**：

- 基于 axios 封装 `http client + request<T>`
- 统一配置 `baseURL / timeout / headers`
- 请求拦截：自动注入 token（按后端约定写入 `Authorization`）
- 响应拦截：统一解析后端壳结构（`code / msg / data`）
- 将业务失败统一转为 `ApiError`，并按以下维度分类处理：
  - `401`：未登录或 token 失效（清会话 + 触发去登录）
  - `403`：无权限
  - `4xx / 5xx`：参数错误 / 服务异常
  - 超时 / 断网：网络异常

同时提供 `setOnUnauthorized` 这种**解耦式回调机制**，避免在 HTTP 层直接耦合路由，实现：

> **“401 自动清会话 + 全局触发去登录” 的可插拔设计**

因此，业务页面与 hooks 层只需处理 **成功数据或异常对象**，无需重复编写状态码判断与提示逻辑。

---

## 三、App 启动流程的集中编排

项目通过 `useAppBootstrap` 对应用启动流程进行统一编排：

- 应用启动时集中拉取 `userInfo + menuList`
- 维护全局 `loading / error` 状态
- 遵循 **“401 / 403 不额外 toast，由路由守卫负责跳转”** 的交互策略

Layout 层仅负责 UI 结构与交互，不直接拉接口、不处理权限判断，保证 **UI 层轻量、业务编排集中在 Hook 层**。

---

## 四、菜单系统与路由系统的解耦设计

项目通过独立映射层实现 **菜单结构与路由结构解耦**：

- `menuMap.ts`：后端 `menuKey` ↔ 前端路由 `path` 映射
- 支持 `pathname → menuKey` 的反向映射，用于页面刷新后的菜单高亮
- `menuIconMap.tsx`：集中管理菜单图标映射

从而实现 **后端菜单结构可变、前端路由可控、刷新后高亮准确** 的稳定导航体验。

---

## 五、通用表格基础设施的工程化设计（核心亮点）

在业务尚未全面展开前，项目提前抽象并落地了一套 **通用表格框架（`shared/components/table`）**，包括：

- `useTableQuery`：统一管理分页 / keyword / sorter 等查询状态
- `useTableData`：统一数据加载、`loading / error / reload` 管理
- `SmartTable`：对 Ant Design Table 的轻封装（受控分页、排序/筛选回写、`scroll.x` 适配）
- `TableToolbar`：统一工具条结构（搜索 / 刷新 / 重置 + 插槽扩展）
- `ColumnSettings + useColumnPrefs`：列显示控制、列偏好持久化
- `useTableExport + exportCsv`：前端跨页全量导出（继承搜索与筛选条件）
- `listAdapter`：在后端分页格式未完全确定前的统一适配层

该框架已在 **个人中心 · 我的活动列表** 中完成真实接入验证，支持：

- 排序 / 筛选
- 当前页批量选择
- 操作列（详情 / 修改 / 删除，页面级实现）
- 列设置与列宽持久化
- 跨页全量导出

为后续所有列表页提供 **稳定、低心智成本的复用基础**。

---

## 六、本地 Mock 后端与故障注入支持

项目内置 **本地 Mock 后端体系**，用于支持前端独立开发与异常场景验证：

- Mock 按业务域拆分（如 `auth.mock.ts`、`profile.mock.ts`）
- 接口结构与真实后端保持一致
- `core/faults` 支持 **延迟 / 随机失败 / 空态** 等故障注入
- 通过 `.env + vite.config.ts` 支持 mock 与真实后端一键切换

确保前端在 **无后端或接口不完整阶段**，仍可系统性验证 `loading / 空态 / 错误态` 等交互表现。

---

### 总结一句话（你可以直接在答辩里用）

> 这个项目已经不是“页面堆砌型练手项目”，而是一个**具备权限体系、请求治理、启动编排、通用表格基础设施与 Mock 支撑的后台系统工程实现**。
